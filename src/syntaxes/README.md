[The MongoDB Shell](https://docs.mongodb.com/manual/mongo/) language is a JavaScript-based query language that supports extended JSON, also called BSON. To highlight the MongoDB syntax we can use the existing Typescript grammar and inject it with the MongoDB keywords.

## ts.tmLanguage

The ts.tmLanguage file contains unchanged TypeScript grammar. It can be regenerated if the TypeScript syntax will be changed at some point.

The ts.tmLanguage file is derived from [TypeScriptReact.tmLanguage](https://github.com/Microsoft/TypeScript-TmLanguage/blob/master/TypeScriptReact.tmLanguage) by [yo code](https://code.visualstudio.com/api/language-extensions/syntax-highlight-guide#developing-a-new-grammar-extension) generator.

Note: Use the raw TypeScriptReact.tmLanguage file to import the grammar. `Yo code` requires the full path to either a .tmLanguage or .json TextMate grammar file.

## mongodb-injection.json

The mongodb-injection.json file contains only MongoDB related syntax.

The mongodb-injection.json file is generated by the `npm run getsymbols` script that uses agg symbols defined in [mongodb-ace-mode](https://github.com/mongodb-js/ace-mode/blob/master/index.js#L63-L263) repo. Currently the array of following symbols is being used:

- AGG_ACCUMULATORS
- AGG_CONVERTERS
- AGG_EXPRESSION_OPERATORS
- AGG_QUERY_OPERATORS
- AGG_STAGE_OPERATORS
- EXT_JSON

Note: It would be nice to extract this list into the separate repo to avoid supporting multiple sources. We also do not include the `npm run getsymbols` script into the compile script, because we do not expect frequent changes of the TS grammar and can to it manually when needed.

## language-configuration.json

The language-configuration.json file is also generated by the extension generator. It defines [a language configuration](https://code.visualstudio.com/api/language-extensions/language-configuration-guide) that controls such declarative language features as comment toggling, brackets definition, autoclosing, autosurrounding, folding, word pattern, indentation rules.
